{"is_source_file": true, "format": "TypeScript", "description": "This file defines the EnvService class which provides application environment configuration values for an Angular application. It safely reads environment variables from both window.__env (client-side) and process.env (server-side for SSR), exposing only variables prefixed with NG_APP_ with default values where applicable.", "external_files": ["@angular/core"], "external_methods": ["Injectable"], "published": ["EnvService"], "classes": [{"name": "EnvService", "description": "Provides environment configuration values for the Angular app, reading from window.__env and process.env, with caching and default fallback support."}], "methods": [{"name": "constructor() { constructor", "description": "Initializes the EnvService instance, reading environment variables from window.__env and process.env, and caching the relevant NG_APP_* variables with defaults.", "scope": "EnvService", "scopeKind": "class"}, {"name": "get(key: keyof EnvService['cache']): string | undefined { get", "description": "Returns the value of a specific environment variable identified by key, or undefined if not set.", "scope": "EnvService", "scopeKind": "class"}, {"name": "getAll(): Record<string, string | undefined> { getAll", "description": "Returns a snapshot of all NG_APP_* environment variables as a read-only object.", "scope": "EnvService", "scopeKind": "class"}, {"name": "apiBase(): string { apiBase", "description": "Returns the API base path used by the application, defaulting to '/api'.", "scope": "EnvService", "scopeKind": "class"}, {"name": "backendUrl(): string { backendUrl", "description": "Returns the backend URL used by the application, defaulting to 'http://localhost:4000'.", "scope": "EnvService", "scopeKind": "class"}], "calls": ["globalThis.window", "(process as any).env", "read('NG_APP_API_BASE', '/api')", "read('NG_APP_BACKEND_URL', 'http://localhost:4000')", "read('NG_APP_FRONTEND_URL', 'http://localhost:3000')", "read('NG_APP_WS_URL', 'ws://localhost:4000')", "read('NG_APP_NODE_ENV', 'development')", "read('NG_APP_NEXT_TELEMETRY_DISABLED', '1')", "read('NG_APP_ENABLE_SOURCE_MAPS', 'true')", "read('NG_APP_PORT', '3000')", "read('NG_APP_TRUST_PROXY', 'false')", "read('NG_APP_LOG_LEVEL', 'info')", "read('NG_APP_HEALTHCHECK_PATH', '/healthz')", "read('NG_APP_FEATURE_FLAGS', '')", "read('NG_APP_EXPERIMENTS_ENABLED', 'false')"], "search-terms": ["EnvService", "NG_APP_ variables", "Angular environment service", "window.__env", "process.env", "SSR-safe environment variables"], "state": 2, "file_id": 21, "knowledge_revision": 64, "git_revision": "9d6f571850f5d14d71474736d9250a55bee5e731", "revision_history": [{"49": ""}, {"64": "9d6f571850f5d14d71474736d9250a55bee5e731"}], "ctags": [{"_type": "tag", "name": "EnvService", "path": "/home/kavia/workspace/code-generation/angular-login-page-6996-7005/angular_frontend/src/app/core/services/env.service.ts", "pattern": "/^export class EnvService {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "EnvWindow", "path": "/home/kavia/workspace/code-generation/angular-login-page-6996-7005/angular_frontend/src/app/core/services/env.service.ts", "pattern": "/^type EnvWindow = any & { __env?: Record<string, string> };$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "apiBase", "path": "/home/kavia/workspace/code-generation/angular-login-page-6996-7005/angular_frontend/src/app/core/services/env.service.ts", "pattern": "/^  apiBase(): string {$/", "language": "TypeScript", "kind": "method", "scope": "EnvService", "scopeKind": "class"}, {"_type": "tag", "name": "backendUrl", "path": "/home/kavia/workspace/code-generation/angular-login-page-6996-7005/angular_frontend/src/app/core/services/env.service.ts", "pattern": "/^  backendUrl(): string {$/", "language": "TypeScript", "kind": "method", "scope": "EnvService", "scopeKind": "class"}, {"_type": "tag", "name": "cache", "path": "/home/kavia/workspace/code-generation/angular-login-page-6996-7005/angular_frontend/src/app/core/services/env.service.ts", "pattern": "/^  private readonly cache: Record<string, string | undefined>;$/", "language": "TypeScript", "kind": "property", "scope": "EnvService", "scopeKind": "class"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/code-generation/angular-login-page-6996-7005/angular_frontend/src/app/core/services/env.service.ts", "pattern": "/^  constructor() {$/", "language": "TypeScript", "kind": "method", "scope": "EnvService", "scopeKind": "class"}, {"_type": "tag", "name": "get", "path": "/home/kavia/workspace/code-generation/angular-login-page-6996-7005/angular_frontend/src/app/core/services/env.service.ts", "pattern": "/^  get(key: keyof EnvService['cache']): string | undefined {$/", "language": "TypeScript", "kind": "method", "scope": "EnvService", "scopeKind": "class"}, {"_type": "tag", "name": "getAll", "path": "/home/kavia/workspace/code-generation/angular-login-page-6996-7005/angular_frontend/src/app/core/services/env.service.ts", "pattern": "/^  getAll(): Record<string, string | undefined> {$/", "language": "TypeScript", "kind": "method", "scope": "EnvService", "scopeKind": "class"}, {"_type": "tag", "name": "procEnv", "path": "/home/kavia/workspace/code-generation/angular-login-page-6996-7005/angular_frontend/src/app/core/services/env.service.ts", "pattern": "/^    const procEnv = (typeof process !== 'undefined' && (process as any).env) ? (process as any)./", "language": "TypeScript", "kind": "constant", "scope": "EnvService.constructor", "scopeKind": "method"}, {"_type": "tag", "name": "read", "path": "/home/kavia/workspace/code-generation/angular-login-page-6996-7005/angular_frontend/src/app/core/services/env.service.ts", "pattern": "/^    const read = (key: string, fallback?: string) =>$/", "language": "TypeScript", "kind": "constant", "scope": "EnvService.constructor", "scopeKind": "method"}, {"_type": "tag", "name": "w", "path": "/home/kavia/workspace/code-generation/angular-login-page-6996-7005/angular_frontend/src/app/core/services/env.service.ts", "pattern": "/^    const w = (globalThis as unknown as { window?: EnvWindow }).window as EnvWindow | undefined;$/", "language": "TypeScript", "kind": "constant", "scope": "EnvService.constructor", "scopeKind": "method"}, {"_type": "tag", "name": "winVars", "path": "/home/kavia/workspace/code-generation/angular-login-page-6996-7005/angular_frontend/src/app/core/services/env.service.ts", "pattern": "/^    const winVars = (w && w.__env) || {};$/", "language": "TypeScript", "kind": "constant", "scope": "EnvService.constructor", "scopeKind": "method"}], "hash": "8b2c6f55c449411565830691ca0f9c7d", "format-version": 4, "code-base-name": "angular_frontend", "filename": "angular_frontend/src/app/core/services/env.service.ts", "fields": [{"name": "private readonly cache: Record<string, string | undefined>;", "scope": "EnvService", "scopeKind": "class", "description": "unavailable"}]}